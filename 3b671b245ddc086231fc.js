"use strict";(self.webpackChunkagile_client=self.webpackChunkagile_client||[]).push([[179],{78923:(e,t,n)=>{n(52004),n(28407),n(70462),n(22429),n(71172),n(38288),n(91274),n(98201),n(56626),n(93211),n(79952),n(20015),n(19831),n(7521),n(72972),n(21719),n(75293),n(11646),n(87178),n(25652),n(51271),n(38833),n(47715),n(85375),n(39390),n(30655),n(95680),n(23675),n(12076),n(27228),n(51301),n(55677),n(67441),n(46825),n(92070),n(87896),n(4363),n(96382),n(57021),n(20288),n(7262),n(74486),n(91029),n(6429),n(55892),n(46270),n(74047),n(6541),n(6399),n(73163),n(94975),n(72609),n(57436),n(25649),n(32001),n(39762),n(22466),n(75298),n(81526),n(67469),n(43344),n(54458),n(76169),n(84415),n(76956),n(14327),n(27680),n(28743),n(59295),n(62794),n(52340),n(74779),n(97359),n(29627),n(32474),n(76493),n(59630),n(30357),n(92374),n(52079),n(17388),n(94593),n(55222),n(45777),n(30717),n(77483),n(74176),n(12406),n(92437),n(23311),n(66474),n(65206),n(71579),n(66016),n(56660),n(96785),n(74517),n(4334),n(89610),n(90190),n(74649),n(77031),n(86737),n(47561),n(5809),n(10815),n(79174),n(5536),n(25101),n(70850),n(45710),n(22698),n(49815),n(55056),n(99751),n(51796),n(61904),n(95738),n(47595),n(27867),n(56394),n(49628),n(56718),n(573),n(25334),n(86969),n(32021),n(38328),n(31678),n(13080),n(9079),n(36714),n(36582),n(69723),n(14728),n(22704),n(76401),n(5274),n(54817),n(91183),n(32309),n(52257),n(7390),n(86956),n(62322),n(93710),n(514),n(19297),n(64669),n(26922),n(95304),n(619),n(23223),n(40594),n(97723),n(92129),n(55017),n(70698),n(82433),n(11932),n(45924),n(51142),n(93296),n(66553),n(79006),n(49268),n(97754),n(52933),n(13233),n(28599),n(20087),n(36993),n(76755),n(99138),n(42448),n(92378),n(61892),n(40842),n(66060),n(59808),n(17590),n(39353),n(79068),n(53631),n(31351),n(1998),n(28729),n(29151),n(23330),n(73594),n(93525),n(30337),n(60506),n(97761),n(53224),n(50597),n(43543),n(35210),n(95785),n(30091),n(29595),n(63181),n(23357),n(91816),n(2161),n(47445),n(84875),n(71608),n(24283),n(72994),n(284),n(30601),n(39494),n(66229),n(19149),n(79503),n(9617),n(91962),n(8097),n(7878),n(31770),n(70435),n(98974),n(87167),n(7715),n(93876),n(50633),n(15167),n(71977),n(34223),n(43726),n(56335),n(29658),n(70733),n(25981),n(7270),n(4056),n(22421),n(55879),n(93302),n(3124),n(46419),n(45097),n(32855),n(88304),n(97246),n(32865),n(49866),n(79548),n(69527),n(85835),n(96691),n(97420),n(3949),n(26921),n(21594),n(72311),n(63917),n(23406),n(10581),n(14912),n(15544),n(39271),n(60943),n(15765),n(21292),n(8068),n(1310),n(29913),n(96003),n(37709),n(73826),n(52510),n(43092),n(39960),n(98536),n(94061),n(84173),n(32787),n(99151),n(95664),n(63502),n(30924),n(8990),n(63053),n(16705),n(97146),n(22503),n(92414),n(84890),n(88023),n(93278),n(24951),n(40374),n(37770),n(94305),n(64251),n(99175),n(86945),n(64114),n(14960),n(15306),n(31183),n(42106),n(53261),n(43637),n(75045),n(51092),n(58936),n(28041),n(85748),n(78193),n(5646),n(9250),n(17525),n(50519),n(20613),n(6905),n(83868),n(54651),n(14846),n(14488),n(91327),n(43970),n(65030),n(48698),n(73123),n(90634),n(7820),n(93022),n(85927),n(13163),n(39027),n(33299),n(44644),n(85942),n(9063),n(91437),n(63278),n(13607),n(95685),n(92034),n(4365),n(52826),n(59371),n(48132),n(985),n(60146),n(10377),n(31086),n(20091),n(68694),n(6316),n(9029),n(24192),n(73884),n(11649),n(90925),n(3020),n(48462),n(98501),n(95869),n(59686),n(95175),n(55090),n(24655),n(68192),n(39201),n(60151),n(76453),n(58138),n(46549),n(77588);var r=n(35466),a=n(46116),c=n(78041),o=(n(79701),n(92162),n(18247),n(44877),n(93219)),u=n(94199),i=n(54589),l=n(71066),s=n(56877),m=n(52429),p=n(86387),f=n(71425),v=n(37538),d=(0,f.Z)({palette:{mode:"dark",primary:{main:"#DB93B0"},secondary:{main:"#F0B67F"}},props:{MuiButton:{size:"small",variant:"contained"},MuiButtonGroup:{size:"small"},MuiCheckbox:{size:"small"},MuiFab:{size:"small"},MuiFormControl:{margin:"dense",size:"small"},MuiFormHelperText:{margin:"dense"},MuiIconButton:{size:"small"},MuiInputBase:{margin:"dense"},MuiInputLabel:{margin:"dense"},MuiRadio:{size:"small"},MuiSwitch:{size:"small"},MuiTextField:{margin:"dense",size:"small"}}});function g(e){var t=e.children;return r.createElement(v.Z,{theme:d},t)}var E=n(9077),y=n(57625),x=n(61151),k=n(220),w=n(10593),b=n(36748),h=n(79803),Z=n(32462),R=n(40337);const I=function(e){var t=e.value;return e.isRevealed?null!=t?r.createElement(s.Z,{color:"primary"},t):r.createElement(s.Z,null,"--"):null!=t?r.createElement(Z.Z,{color:"success"}):r.createElement(R.Z,{color:"warning"})},S=function(e){var t=e.name,n=(0,c.v9)((function(e){return e.pointingPoker.state.votes[t]})),a=(0,c.v9)((function(e){return t===e.pointingPoker.user})),o=(0,c.v9)((function(e){return e.pointingPoker.state.revealed}));return r.createElement(h.Z,{in:!0,key:t},r.createElement("div",null,r.createElement(E.ZP,null,r.createElement(k.Z,{sx:{width:4,minWidth:0,marginRight:2}},r.createElement(w.Z,{variant:"rounded",sx:{width:4,bgcolor:a?"secondary.main":"transparent"}}," ")),r.createElement(y.Z,null,t),r.createElement(x.Z,null,r.createElement(y.Z,{edge:"end"},r.createElement(l.Z,{sx:{width:36,textAlign:"center"}},r.createElement(b.Z,{in:!0,key:"".concat(n,"-").concat(o)},r.createElement("div",null,r.createElement(I,{value:n,isRevealed:o})))))))))};var z=n(50592),C="pointing-poker/start",O="pointing-poker/join",j="pointing-poker/vote",M="pointing-poker/clear_votes",q="pointing-poker/reveal_votes",A="pointing-poker/unreveal_votes",P=["value"];function _(){return _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}const B=function(e){var t=e.value,n=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,P),a=(0,c.I0)(),o=(0,c.v9)((function(e){return t===e.pointingPoker.state.votes[e.pointingPoker.user]}));return r.createElement(l.Z,{m:1},r.createElement(z.Z,_({color:"primary",variant:"contained"},n,{onClick:function(){return a({type:j,vote:t})},disabled:o})))};var T=n(81869),D="websocket/connect",F="websocket/connected",W="websocket/received",J="websocket/message",G="websocket/send",L=function(e,t){return{type:e+":"+J,payload:t}},U=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{type:G,id:(0,T.x)(6),payload:t}},$=n(25553),H=n(68145),N=n(57384),K=(0,N.oM)({name:"pointing-poker",initialState:{id:null},reducers:{setId:function(e,t){e.id=t.payload},update:function(e,t){return t.payload}}}),V=K.actions,Y=V.setId,Q=V.update;const X=K.reducer;function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const te=function(){var e,t,n=(0,p.k6)(),a=(e=(0,r.useState)(""),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){u=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ee(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ee(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],u=a[1],i=(0,c.I0)();return r.createElement("form",{onSubmit:function(e){e.preventDefault(),i(Y(o)),n.push("/".concat(o))}},r.createElement($.Z,{direction:"row",spacing:1,alignItems:"center"},r.createElement(H.Z,{label:"Room ID",onChange:function(e){return u(e.target.value)},margin:"dense",size:"small"}),r.createElement(z.Z,{disabled:""===o,variant:"contained",type:"submit",style:{marginTop:"4px"}},"Join")))},ne=function(){var e=(0,c.I0)();return r.createElement(z.Z,{variant:"contained",onClick:function(){return e({type:C})}},"Start")},re=function(){var e=(0,p.k6)(),t=(0,c.v9)((function(e){return e.pointingPoker.id}));return(0,r.useEffect)((function(){t&&e.push("/".concat(t))}),[t]),r.createElement(o.Z,null,r.createElement(u.Z,null,r.createElement($.Z,{direction:"row",spacing:3,justifyContent:"center",alignItems:"center"},r.createElement(ne,null),r.createElement("div",null,"— or —"),r.createElement(te,null))))};var ae=n(37100);function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const oe=function(){var e,t,n=(e=(0,r.useState)(""),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,c=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(c.push(r.value),!t||c.length!==t);o=!0);}catch(e){u=!0,a=e}finally{try{o||null==n.return||n.return()}finally{if(u)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ce(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=n[0],o=n[1],u=(0,c.v9)((function(e){return e.pointingPoker.id})),i=(0,c.I0)();return r.createElement("form",{onSubmit:function(e){e.preventDefault(),i(function(e,t){return{type:O,room:e,name:t}}(u,a))}},r.createElement($.Z,{direction:"row",spacing:1,alignItems:"center"},r.createElement(H.Z,{label:"Your name",onChange:function(e){return o(e.target.value)},margin:"dense",size:"small"}),r.createElement(z.Z,{disabled:""===a,variant:"contained",type:"submit",style:{marginTop:"4px"}},"Join")))};var ue=n(96241);const ie=function(){var e=(0,c.v9)((function(e){return e.pointingPoker.users}));return r.createElement(ue.Z,null,e.map((function(e){return r.createElement(S,{key:e,name:e})})))},le=function(){var e=(0,c.I0)(),t=(0,c.v9)((function(e){return e.pointingPoker.state.revealed}));return r.createElement(l.Z,{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",spacing:2,sx:{flexWrap:"wrap"}},r.createElement(l.Z,{m:1},r.createElement(z.Z,{color:"primary",variant:"contained",onClick:function(){return e({type:M})}},"Clear votes")),r.createElement(l.Z,{m:1},!t&&r.createElement(z.Z,{color:"primary",variant:"contained",onClick:function(){return e({type:q})}},"Reveal votes"),t&&r.createElement(z.Z,{color:"primary",variant:"contained",onClick:function(){return e({type:A})}},"Hide votes")))},se=function(){var e=(0,p.UO)().room,t=(0,c.I0)(),n=(0,c.v9)((function(e){return!!e.pointingPoker.game})),a=(0,c.v9)((function(e){return e.websocket.connected}));return(0,r.useEffect)((function(){e&&t(Y(e))}),[e]),a?r.createElement(o.Z,null,r.createElement(u.Z,null,!n&&r.createElement($.Z,{direction:"row",spacing:1,justifyContent:"center",alignItems:"center"},r.createElement(oe,null)),n&&r.createElement(l.Z,null,r.createElement(le,null),r.createElement(ie,null),r.createElement(l.Z,{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",spacing:2,sx:{flexWrap:"wrap"}},r.createElement(B,{value:"0.5"},"0.5"),r.createElement(B,{value:"1"},"1"),r.createElement(B,{value:"2"},"2"),r.createElement(B,{value:"3"},"3"),r.createElement(B,{value:"5"},"5"),r.createElement(B,{value:"8"},"8"),r.createElement(B,{value:"13"},"13"),r.createElement(B,{value:"Break"},"Break"),r.createElement(B,{value:"?"},"?"))))):r.createElement(o.Z,null,r.createElement(u.Z,null,r.createElement(ae.Z,null)))},me=function(){var e=(0,c.I0)();(0,r.useEffect)((function(){e({type:D})}),[]);var t=(0,c.v9)((function(e){return e}));return r.createElement(g,null,r.createElement(i.ZP,null),r.createElement(l.Z,{p:2},r.createElement(s.Z,{paragraph:!0,variant:"h2"},"App"),r.createElement(m.VK,null,r.createElement(p.rs,null,r.createElement(p.AW,{path:"/:room"},r.createElement(se,null)),r.createElement(p.AW,{path:"*"},r.createElement(re,null)))),r.createElement(s.Z,{paragraph:!0,variant:"h2"},"Testing"),r.createElement(o.Z,null,r.createElement(u.Z,null,r.createElement("code",null,r.createElement("pre",null,JSON.stringify(t,null,2)))))))};var pe=n(75307),fe=(0,N.oM)({name:"websocket",initialState:{connected:!1},reducers:{setConnected:function(e,t){e.connected=t.payload}}}),ve=fe.actions.setConnected;const de=fe.reducer;var ge=n(10500),Ee=n(16434),ye=function(e,t,n){return e.send("".concat(t,":").concat(n.join(":"))),t},xe=regeneratorRuntime.mark(Ze),ke=regeneratorRuntime.mark(Re),we=regeneratorRuntime.mark(Ie),be=regeneratorRuntime.mark(Se);function he(e){return(0,Ee.GG)((function(t){return e.addEventListener("open",(function(){t({type:F})})),e.addEventListener("message",(function(e){var n=e.data.indexOf(":"),r=[e.data.slice(0,n),e.data.slice(n+1)];t({type:W,id:r[0],payload:r[1]})})),function(){e.close()}}))}function Ze(e){var t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,ge.RE)(he,e);case 2:t=r.sent;case 3:return r.next=6,(0,ge.qn)(t);case 6:return n=r.sent,r.next=9,(0,ge.gz)(n);case 9:r.next=3;break;case 11:case"end":return r.stop()}}),xe)}function Re(e){var t,n,r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,(0,ge.qn)(G);case 3:t=a.sent,n=t.id,r=t.payload,ye(e,n,r),a.next=0;break;case 9:case"end":return a.stop()}}),ke)}function Ie(){var e,t,n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,(0,ge.qn)(W);case 3:return e=r.sent,t=e.id,n=e.payload,r.next=8,(0,ge.gz)(L(t,n));case 8:r.next=0;break;case 10:case"end":return r.stop()}}),we)}function Se(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,ge.qn)(D);case 2:return e=new WebSocket("ws://agile.gigalixirapp.com/ws"),t.next=5,(0,ge.rM)(Ze,e);case 5:return t.next=7,(0,ge.qn)(F);case 7:return t.next=9,(0,ge.gz)(ve(!0));case 9:return t.next=11,(0,ge.rM)(Re,e);case 11:return t.next=13,(0,ge.rM)(Ie);case 13:case"end":return t.stop()}}),be)}var ze=regeneratorRuntime.mark(_e),Ce=regeneratorRuntime.mark(Be),Oe=regeneratorRuntime.mark(Te),je=regeneratorRuntime.mark(De),Me=regeneratorRuntime.mark(Fe),qe=regeneratorRuntime.mark(We),Ae=regeneratorRuntime.mark(Je),Pe=regeneratorRuntime.mark(Ge);function _e(){var e,t,n,r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,ge.qn)(C);case 2:return a.next=4,(0,ge.gz)(U("start","pointing_poker"));case 4:return e=a.sent,t=e.id,a.next=8,(0,ge.qn)("".concat(t,":").concat(J));case 8:return n=a.sent,r=n.payload,a.next=12,(0,ge.gz)(Y(r));case 12:return a.abrupt("return",!0);case 13:case"end":return a.stop()}}),ze)}function Be(){var e,t,n,r,a;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,ge.qn)(O);case 2:return e=c.sent,t=e.room,n=e.name,c.next=7,(0,ge.gz)(U("join",t,n));case 7:return r=c.sent,a=r.id,c.next=11,(0,ge.qn)("".concat(a,":").concat(J));case 11:return c.abrupt("return",!0);case 12:case"end":return c.stop()}}),Ce)}function Te(){var e,t,n,r;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,ge.qn)(j);case 2:return e=a.sent,t=e.vote,a.next=6,(0,ge.gz)(U("vote",t));case 6:return n=a.sent,r=n.id,a.next=10,(0,ge.qn)("".concat(r,":").concat(J));case 10:return a.abrupt("return",!0);case 11:case"end":return a.stop()}}),Oe)}function De(){var e,t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,ge.qn)(M);case 2:return n.next=4,(0,ge.gz)(U("clear_votes"));case 4:return e=n.sent,t=e.id,n.next=8,(0,ge.qn)("".concat(t,":").concat(J));case 8:return n.abrupt("return",!0);case 9:case"end":return n.stop()}}),je)}function Fe(){var e,t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,ge.qn)(q);case 2:return n.next=4,(0,ge.gz)(U("reveal_votes"));case 4:return e=n.sent,t=e.id,n.next=8,(0,ge.qn)("".concat(t,":").concat(J));case 8:return n.abrupt("return",!0);case 9:case"end":return n.stop()}}),Me)}function We(){var e,t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,ge.qn)(A);case 2:return n.next=4,(0,ge.gz)(U("unreveal_votes"));case 4:return e=n.sent,t=e.id,n.next=8,(0,ge.qn)("".concat(t,":").concat(J));case 8:return n.abrupt("return",!0);case 9:case"end":return n.stop()}}),qe)}function Je(){var e,t;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,(0,ge.qn)("update:".concat(J));case 3:return e=n.sent,t=e.payload,n.next=7,(0,ge.gz)(Q(JSON.parse(t)));case 7:n.next=0;break;case 9:case"end":return n.stop()}}),Ae)}function Ge(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ge.S3)({startRoom:(0,ge.RE)(_e),joinRoom:(0,ge.RE)(Be)});case 2:if(!e.sent.startRoom){e.next=7;break}return e.next=7,(0,ge.RE)(Be);case 7:return e.next=9,(0,ge.rM)(Je);case 9:return e.next=12,(0,ge.S3)({vote:(0,ge.RE)(Te),clear_votes:(0,ge.RE)(De),reveal_votes:(0,ge.RE)(Fe),unreveal_votes:(0,ge.RE)(We)});case 12:e.next=9;break;case 14:case"end":return e.stop()}}),Pe)}var Le=regeneratorRuntime.mark(Ue);function Ue(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,ge.$6)([Se(),Ge()]);case 2:case"end":return e.stop()}}),Le)}var $e=(0,pe.ZP)(),He=(0,N.xC)({reducer:{pointingPoker:X,websocket:de},middleware:function(e){return e().concat($e)}});$e.run(Ue),a.render(r.createElement(c.zt,{store:He},r.createElement(me,null)),document.getElementById("root"))}},e=>{e.O(0,[216],(()=>(78923,e(e.s=78923)))),e.O()}]);